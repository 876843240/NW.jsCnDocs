<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Use Native Node Modules - NW.js 中文文档</title>
  

  <link rel="shortcut icon" href="../../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Use Native Node Modules";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script>
  <script src="../../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../../index.html" class="icon icon-home"> NW.js 中文文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../../index.html">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>For Developers</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Building%20NW.js/index.html">Building NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Contributing%20to%20NW.js/index.html">Contributing to NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Contributors%20of%20Documents/index.html">Contributors of Documents</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Enable%20Proprietary%20Codecs/index.html">Enable Proprietary Codecs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Repositories/index.html">Repositories</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Understanding%20Crash%20Dump/index.html">Understanding Crash Dump</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Writing%20Documents%20for%20NW.js/index.html">Writing Documents for NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../For%20Developers/Writing%20Test%20Cases%20for%20NW.js/index.html">Writing Test Cases for NW.js</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>For Users</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Debugging%20with%20DevTools/index.html">Debugging with DevTools</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../FAQ/index.html">FAQ</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Getting%20Started/index.html">Getting Started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Package%20and%20Distribute/index.html">Package and Distribute</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Advanced</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Build%20Flavors/index.html">Build Flavors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Content%20Verification/index.html">Content Verification</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../JavaScript%20Contexts%20in%20NW.js/index.html">JavaScript Contexts in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Protect%20JavaScript%20Source%20Code/index.html">Protect JavaScript Source Code</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Security%20in%20NW.js/index.html">Security in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Test%20with%20ChromeDriver/index.html">Test with ChromeDriver</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Transparent%20Window/index.html">Transparent Window</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Use%20NaCl%20in%20NW.js/index.html">Use NaCl in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="index.html">Use Native Node Modules</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#use-native-node-modules-doctitle">Use Native Node Modules {: .doctitle}</a></li>
                
                    <li><a class="toctree-l4" href="#nw-gyp">nw-gyp</a></li>
                
                    <li><a class="toctree-l4" href="#node-pre-gyp">node-pre-gyp</a></li>
                
                    <li><a class="toctree-l4" href="#known-issues">Known Issues</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Migration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Migration/From%200.12%20to%200.13/index.html">From 0.12 to 0.13</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>References</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/App/index.html">App</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Changes%20to%20DOM/index.html">Changes to DOM</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Changes%20to%20Node/index.html">Changes to Node</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Clipboard/index.html">Clipboard</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Command%20Line%20Options/index.html">Command Line Options</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Manifest%20Format/index.html">Manifest Format</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Menu/index.html">Menu</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/MenuItem/index.html">MenuItem</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Screen/index.html">Screen</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Shell/index.html">Shell</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Shortcut/index.html">Shortcut</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Tray/index.html">Tray</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/Window/index.html">Window</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../../References/webview%20Tag/index.html">webview Tag</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">NW.js 中文文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Advanced &raquo;</li>
        
      
    
    <li>Use Native Node Modules</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="use-native-node-modules-doctitle">Use Native Node Modules {: .doctitle}</h1>
<hr />
<div class="toc">
<ul>
<li><a href="#use-native-node-modules-doctitle">Use Native Node Modules {: .doctitle}</a><ul>
<li><a href="#nw-gyp">nw-gyp</a></li>
<li><a href="#node-pre-gyp">node-pre-gyp</a></li>
<li><a href="#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</div>
<p><code>npm</code> tool provided by Node.js builds the native modules, i.e. <a href="https://nodejs.org/api/addons.html">C/C++ Addons</a>, at the time of installation. However the V8 version and Node ABI in NW.js is different from official Node.js. To use native Node.js modules with NW.js, you have to rebuild the modules with one of following tools.</p>
<h2 id="nw-gyp">nw-gyp</h2>
<p><a href="https://github.com/nwjs/nw-gyp"><code>nw-gyp</code></a> is a hack on <code>node-gyp</code> to support NW.js specific headers and libraries. </p>
<p>The usage is the same with <code>node-gyp</code>, except that you need to specify the version and arch (<code>x64</code> or <code>ia32</code>) of NW.js manually. </p>
<pre class="codehilite"><code class="language-bash">npm install -g nw-gyp
cd myaddon
nw-gyp rebuild --target=0.13.0 --arch=x64</code></pre>


<p>See https://github.com/nwjs/nw-gyp for more details.</p>
<h2 id="node-pre-gyp">node-pre-gyp</h2>
<p>Some packages uses <a href="https://github.com/mapbox/node-pre-gyp">node-pre-gyp</a>, which supports building for both Node.js and NW.js by using either <code>node-gyp</code> or <code>nw-gyp</code>.</p>
<p>The usage of <code>node-pre-gyp</code> is as following:</p>
<pre class="codehilite"><code class="language-bash">npm install -g node-pre-gyp
cd myaddon
node-pre-gyp build --runtime=node-webkit --target=0.13.0 --target_arch=x64</code></pre>


<p>See https://github.com/mapbox/node-pre-gyp for more details.</p>
<h2 id="known-issues">Known Issues</h2>
<p>So far, you have to rebuild <strong>each native module</strong> with tools above including thoses are indirectly depended modules. Since <code>binding.gyp</code> is required for building native modules, you can easily locate all native modules by finding <code>binding.gyp</code> file.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../Migration/From%200.12%20to%200.13/index.html" class="btn btn-neutral float-right" title="From 0.12 to 0.13"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Use%20NaCl%20in%20NW.js/index.html" class="btn btn-neutral" title="Use NaCl in NW.js"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>NW.js中文文档由<a href="http://liuxp.me">刘小平</a>提供，项目托管在<a href="https://github.com/lxp135/NW.jsCnDocs">GitHub</a>，欢迎您参与翻译。<script language="javascript" type="text/javascript" src="http://js.users.51.la/18564708.js"></script></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Use%20NaCl%20in%20NW.js/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../Migration/From%200.12%20to%200.13/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
