<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changes to DOM - NW.js 中文文档</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Changes to DOM";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="icon icon-home"> NW.js 中文文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../index.html">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>For Developers</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Building%20NW.js/index.html">Building NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Contributing%20to%20NW.js/index.html">Contributing to NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Contributors%20of%20Documents/index.html">Contributors of Documents</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Enable%20Proprietary%20Codecs/index.html">Enable Proprietary Codecs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Repositories/index.html">Repositories</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Understanding%20Crash%20Dump/index.html">Understanding Crash Dump</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Writing%20Documents%20for%20NW.js/index.html">Writing Documents for NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Developers/Writing%20Test%20Cases%20for%20NW.js/index.html">Writing Test Cases for NW.js</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>For Users</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Debugging%20with%20DevTools/index.html">Debugging with DevTools</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/FAQ/index.html">FAQ</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Getting%20Started/index.html">Getting Started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Package%20and%20Distribute/index.html">Package and Distribute</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Advanced</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Build%20Flavors/index.html">Build Flavors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Content%20Verification/index.html">Content Verification</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/index.html">JavaScript Contexts in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Protect%20JavaScript%20Source%20Code/index.html">Protect JavaScript Source Code</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Security%20in%20NW.js/index.html">Security in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Test%20with%20ChromeDriver/index.html">Test with ChromeDriver</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Transparent%20Window/index.html">Transparent Window</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Use%20NaCl%20in%20NW.js/index.html">Use NaCl in NW.js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Advanced/Use%20Native%20Node%20Modules/index.html">Use Native Node Modules</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Migration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../For%20Users/Migration/From%200.12%20to%200.13/index.html">From 0.12 to 0.13</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>References</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../App/index.html">App</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="index.html">Changes to DOM</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#changes-to-dom-doctitle">Changes to DOM {: .doctitle}</a></li>
                
                    <li><a class="toctree-l4" href="#input-typefile"><input type="file"></a></li>
                
                    <li><a class="toctree-l4" href="#iframe"><iframe></a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Changes%20to%20Node/index.html">Changes to Node</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Clipboard/index.html">Clipboard</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Command%20Line%20Options/index.html">Command Line Options</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Manifest%20Format/index.html">Manifest Format</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Menu/index.html">Menu</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../MenuItem/index.html">MenuItem</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Screen/index.html">Screen</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Shell/index.html">Shell</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Shortcut/index.html">Shortcut</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Tray/index.html">Tray</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Window/index.html">Window</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../webview%20Tag/index.html">webview Tag</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">NW.js 中文文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>References &raquo;</li>
        
      
    
    <li>Changes to DOM</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="changes-to-dom-doctitle">Changes to DOM {: .doctitle}</h1>
<hr />
<div class="toc">
<ul>
<li><a href="#changes-to-dom-doctitle">Changes to DOM {: .doctitle}</a><ul>
<li><a href="#input-typefile">&lt;input type=&rdquo;file&rdquo;&gt;</a><ul>
<li><a href="#fileinputvalue">fileinput.value</a></li>
<li><a href="#fileitempath">fileitem.path</a></li>
<li><a href="#attribute-nwdirectory">Attribute: nwdirectory</a></li>
<li><a href="#attribute-nwsaveas">Attribute: nwsaveas</a></li>
<li><a href="#attribute-nwworkingdir">Attribute: nwworkingdir</a></li>
</ul>
</li>
<li><a href="#iframe">&lt;iframe&gt;</a><ul>
<li><a href="#attribute-nwdisable">Attribute: nwdisable</a></li>
<li><a href="#attribute-nwfaketop">Attribute: nwfaketop</a></li>
<li><a href="#attribute-nwuseragent">Attribute: nwUserAgent</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2 id="input-typefile">&lt;input type=&rdquo;file&rdquo;&gt;</h2>
<p>HTML5 does provided limited support for file dialogs with <code>&lt;input type="file" /&gt;</code> element, such as <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-multiple"><code>multiple</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept"><code>accept</code></a> and <code>webkitdirectory</code>. NW.js extended the file input to better support native apps.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>NW.js extended features are only enabled in Node frames for security reasons. See <a href="../../For%20Users/Advanced/Security%20in%20NW.js/index.html">Security in NW.js</a> for the differences of Node and normal frame.</p>
</div>
<h3 id="fileinputvalue">fileinput.value</h3>
<p>The property contains native path of the local file.</p>
<p>For example, you can read the file selected by user with Node.js API:</p>
<pre class="codehilite"><code class="language-javascript">// Get the native path of the file selected by user
var fileinput = document.querySelector('input[type=file]');
var path = fileinput.value;

// Read file with Node.js API
var fs = nw.require('fs');
fs.readFile(path, 'utf8', function(err, txt) {
  if (err) {
    console.error(err);
    return;
  }

  console.log(txt);
});</code></pre>


<h3 id="fileitempath">fileitem.path</h3>
<p>HTML5 provides a <code>files</code> attribute to return all files selected in a <code>&lt;input&gt;</code> tag. NW.js provided an extra property <code>fileitem.path</code> to each file item in <code>files</code>, which is the native path of the selected file.</p>
<pre class="codehilite"><code class="language-javascript">var fileinput = document.querySelector('input[type=file]');
var files = fileinput.files;

for (var i = 0; i &lt; files.length; ++i) {
  console.log(files[i].path);
}</code></pre>


<h3 id="attribute-nwdirectory">Attribute: <code>nwdirectory</code></h3>
<p><code>nwdirectory</code> is a bit similar to <code>webkitdirectory</code>, but it returns the path of directory instead of returning files in it.</p>
<p>For example:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwdirectory&gt;</code></pre>


<h3 id="attribute-nwsaveas">Attribute: <code>nwsaveas</code></h3>
<p><code>nwsaveas</code> will open a &lsquo;Save as&rsquo; dialog, which lets user enter the path of a file. It&rsquo;s possible to select a non-existing file, which is different from the default file input tag.</p>
<p>For example:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwsaveas&gt;</code></pre>


<p>And you can specify a value for the default file name to save:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwsaveas=&quot;filename.txt&quot;&gt;</code></pre>


<h3 id="attribute-nwworkingdir">Attribute: <code>nwworkingdir</code></h3>
<p>With <code>nwworkingdir</code>, the file dialog starts in the given directory when the element is activated.</p>
<p>For example, following code enables the file dialog opening in <code>/home/path/</code> by default:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwworkingdir=&quot;/home/path/&quot;&gt;</code></pre>


<h2 id="iframe">&lt;iframe&gt;</h2>
<p>NW.js extended <code>&lt;iframe&gt;</code> tag for easier developing native apps. Thoses features enables apps to bypass the restrictions of Sandbox and Same Origin Policy etc.</p>
<p>See also <a href="../webview%20Tag/index.html">webview Tag</a> for the new <code>&lt;webview&gt;</code> tag.</p>
<h3 id="attribute-nwdisable">Attribute: nwdisable</h3>
<p>Make the frame and subframes normal frames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This attribute doesn&rsquo;t prevent the page in normal frames accessing its parent and top frames. Then they can still get access to Node.js APIs. So usually you may want to use this attribute with <code>nwfaketop</code> togather.</p>
</div>
<h3 id="attribute-nwfaketop">Attribute: nwfaketop</h3>
<p>Prevent web page in the frame accessing the real <code>window.parent</code> or <code>window.top</code>. They will get the faked parent and top, which is its own <code>window</code> object of the frame. Subframes will also be affected.</p>
<p>This attribute is usually used with <code>nwdisable</code>.</p>
<h3 id="attribute-nwuseragent">Attribute: nwUserAgent</h3>
<p>Override the default user-agent when loading the web page in the frame and sub frames. See <a href="../Manifest%20Format/index.html#user-agent"><code>user-agent</code> in manifest</a> for details.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Changes%20to%20Node/index.html" class="btn btn-neutral float-right" title="Changes to Node"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../App/index.html" class="btn btn-neutral" title="App"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>NW.js中文文档由<a href="http://liuxp.me">刘小平</a>提供，项目托管在<a href="https://github.com/lxp135/NW.jsCnDocs">GitHub</a>，欢迎您参与翻译。<script language="javascript" type="text/javascript" src="http://js.users.51.la/18564708.js"></script></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../App/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Changes%20to%20Node/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
